<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>WebGL Sculpt</title>
    <script type="module" crossorigin src="./assets/index-BoUtJ5Po.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-R6MduBST.css">
  </head>
  <body>
    <div id="app">
      <div id="leftPanel" class="panel sidebar left">
        <button class="flap" data-panel="leftPanel">Tools</button>
        <div class="panel-body">
          <div class="panel-scroll tools-panel">
            <div class="panel-title"></div>
            <label class="group">
              <span>Tool</span>
              <select id="toolMode">
                <option value="select">Select</option>
                <option value="inflate">Inflate</option>
                <option value="deflate">Deflate</option>
                <option value="smooth">Smooth</option>
                <option value="flatten">Flatten</option>
                <option value="clay">Clay</option>
                <option value="move">Move</option>
                <option value="nudge">Nudge</option>
                <option value="smudge">Smudge</option>
                <option value="crease">Crease</option>
                <option value="pinch">Pinch</option>
                <option value="paint">Paint</option>
                <option value="stamp">Stamp</option>
                <option value="trim">Trim</option>
              </select>
            </label>
            <label class="group">
              <span>Material</span>
              <select id="materialMode">
                <option value="default">Default</option>
                <option value="shiny">Shiny</option>
                <option value="metal">Metal</option>
              </select>
            </label>
            <label class="group">
              <span>Size</span>
              <input id="brushSize" type="range" min="0.02" max="0.4" step="0.01" value="0.12" />
            </label>
            <label class="group">
              <span>Strength</span>
              <input id="brushStrength" type="range" min="0.01" max="0.6" step="0.01" value="0.18" />
            </label>
            <label class="group flat-group">
              <span>Color</span>
              <div class="color-swatch">
                <input id="colorPicker" type="color" value="#ff7a2f" />
              </div>
            </label>
            <label class="group">
              <span>Stamp</span>
              <label class="btn file-btn stamp-upload">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 3v10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M8 9l4 4 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M4 20h16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>Upload</span>
                <input id="stampInput" type="file" accept="image/*" />
              </label>
            </label>
            <label class="group scale-group">
              <span>Scale</span>
              <input id="scaleSlider" type="range" min="0.2" max="3" step="0.05" value="1" />
              <button id="resetScaleBtn" class="btn small reset-scale">Reset Scale</button>
            </label>
            <label class="group">
              <span>Symmetry</span>
              <div class="toggle-row">
                <label><input id="symX" type="checkbox" /> X</label>
                <label><input id="symY" type="checkbox" /> Y</label>
                <label><input id="symZ" type="checkbox" /> Z</label>
              </div>
            </label>
            <label class="group">
              <span>Show Brush</span>
              <input id="brushRingToggle" type="checkbox" checked />
            </label>
            <label class="group flat-group swatch-inline">
              <span>UI Left</span>
              <div class="color-swatch">
                <input id="leftColor" type="color" value="#12151e" />
              </div>
            </label>
            <label class="group flat-group swatch-inline">
              <span>UI Right</span>
              <div class="color-swatch">
                <input id="rightColor" type="color" value="#12151e" />
              </div>
            </label>
            <label class="group flat-group swatch-inline">
              <span>UI Bottom</span>
              <div class="color-swatch">
                <input id="bottomColor" type="color" value="#12151e" />
              </div>
            </label>
            <label class="group flat-group swatch-inline">
              <span>Canvas</span>
              <div class="color-swatch canvas-preview">
                <input id="canvasColor" type="color" />
              </div>
            </label>
          </div>
        </div>
      </div>

      <div id="rightPanel" class="panel sidebar right">
        <button class="flap" data-panel="rightPanel">Layers</button>
        <div class="panel-body">
          <div class="panel-title layer-title">
            <button id="deleteSelectedBtn" class="btn icon-btn danger layer-delete" title="Delete Selected" aria-label="Delete Selected">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M9 7V4h6v3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M6 7l1 13h10l1-13" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="layer-header">
            <label class="group inline-toggle">
              <input id="moveLayerToggle" type="checkbox" />
              <span>Move Layer</span>
            </label>
            <label class="group">
              <span>Primitive</span>
              <select id="primitiveSelect">
                <option value="sphere">Sphere</option>
                <option value="box">Box</option>
                <option value="torus">Torus</option>
                <option value="cylinder">Cylinder</option>
                <option value="cone">Cone</option>
              </select>
            </label>
            <div class="panel-actions">
              <button id="addPrimitiveBtn" class="btn small">Add Primitive</button>
              <button id="addLayerBtn" class="btn small">Add Layer</button>
              <button id="cloneLayerBtn" class="btn small">Clone</button>
              <button id="mergeLayersBtn" class="btn small">Merge</button>
              <button id="deleteLayerBtn" class="btn small">Delete</button>
              <button id="moveTopBtn" class="btn small">Move To Top</button>
            </div>
          </div>
          <div class="transform-toolbar">
            <button id="transformToggle" class="btn transform-toggle" aria-pressed="false">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 3v18M3 12h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M12 3l-3 3M12 3l3 3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 21l-3-3M12 21l3-3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M3 12l3-3M3 12l3 3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M21 12l-3-3M21 12l-3 3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Transform</span>
            </button>
            <div id="transformHint" class="hint"></div>
          </div>
          <div class="layer-scroll">
            <div id="layerList" class="layer-list"></div>
          </div>
        </div>
      </div>

      <div id="bottomPanel" class="panel bottom-bar">
        <button class="flap" data-panel="bottomPanel">Actions</button>
        <div class="panel-body">
          <div class="actions-section">
            <div class="section-title">Remesh</div>
            <div class="actions-row remesh-row">
              <label class="group">
                <span>Voxel Resolution</span>
                <div class="toggle-row">
                  <input id="voxelResolution" type="range" min="64" max="1024" step="1" value="320" />
                  <span id="voxelResolutionValue" class="slider-value">320</span>
                </div>
              </label>
              <label class="group">
                <span>Auto remesh</span>
                <div class="toggle-row">
                  <label><input id="autoRemeshDynamic" type="checkbox" /><span class="toggle-state">Off</span></label>
                </div>
                <span class="caption">Remesh when triangles stretch</span>
              </label>
              <label class="group">
                <span>Brush region only</span>
                <div class="toggle-row">
                  <label><input id="remeshRegionOnly" type="checkbox" checked /><span class="toggle-state">On</span></label>
                </div>
              </label>
              <label class="group">
                <span>Preserve silhouette</span>
                <div class="toggle-row">
                  <label><input id="preserveSilhouette" type="checkbox" checked /><span class="toggle-state">On</span></label>
                </div>
              </label>
              <button id="remeshBtn" class="btn small">Remesh</button>
            </div>
          </div>
          <div class="actions-section">
            <div class="section-title">Quality</div>
            <div class="actions-row quality-row">
              <label class="group">
                <span>Post Smooth</span>
                <div class="toggle-row">
                  <input id="postSmooth" type="range" min="0" max="10" step="1" value="3" />
                  <span id="postSmoothValue" class="slider-value">3</span>
                </div>
                <span class="caption">Non-shrinking</span>
              </label>
              <label class="group">
                <span>Decimate</span>
                <div class="toggle-row">
                  <input id="decimateRatio" type="range" min="0.1" max="0.9" step="0.05" value="0.6" />
                  <button id="decimateBtn" class="btn small">Decimate</button>
                </div>
              </label>
              <button id="autoSmoothBtn" class="btn small">Auto Smooth</button>
            </div>
          </div>
          <div class="actions-section">
            <div class="section-title">Boolean</div>
            <div class="actions-row form-row">
              <label class="group">
                <span>Operation</span>
                <select id="booleanOp">
                  <option value="union">Union</option>
                  <option value="subtract">Subtract</option>
                  <option value="intersect">Intersect</option>
                </select>
              </label>
              <label class="group">
                <span>With</span>
                <select id="booleanTarget"></select>
              </label>
              <button id="booleanApplyBtn" class="btn small">Apply Boolean</button>
            </div>
          </div>
          <div class="actions-section">
            <div class="section-title">Files & Slots</div>
            <div class="actions-row form-row">
              <button id="exportBtn" class="btn">Export GLB</button>
              <label class="btn file-btn">
                Import Mesh
                <input id="importInput" type="file" accept=".glb,.gltf,.obj" />
              </label>
              <label class="group">
                <span>Save Slot</span>
                <input id="saveName" class="pill-input" type="text" placeholder="Slot name" />
              </label>
              <label class="group">
                <span>Slots</span>
                <select id="saveSlots" class="pill-input"></select>
              </label>
            </div>
          </div>
          <div class="actions-section">
            <div class="section-title">View</div>
            <div class="actions-row form-row">
              <button id="focusBtn" class="btn">Focus Layer</button>
            </div>
          </div>
          <div class="actions-section actions-section--icons">
            <div class="section-title">Quick Actions</div>
            <div class="actions-row icon-row">
              <button id="undoBtn" class="btn icon-btn" title="Undo" aria-label="Undo">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M9 7H5v4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M5 11a7 7 0 1 1 2.05 4.95" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
              <button id="redoBtn" class="btn icon-btn" title="Redo" aria-label="Redo">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M15 7h4v4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M19 11a7 7 0 1 0-2.05 4.95" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
              <button id="cloneBtn" class="btn icon-btn" title="Clone Layer" aria-label="Clone Layer">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M8 8h10v10H8z" fill="none" stroke="currentColor" stroke-width="2"/>
                  <path d="M6 6h10v10" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
              <button id="saveBtn" class="btn icon-btn" title="Save" aria-label="Save">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M4 4h12l4 4v12H4z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  <path d="M16 4v6H8V4" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                  <path d="M8 20v-6h8v6" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                </svg>
              </button>
              <button id="loadBtn" class="btn icon-btn" title="Load" aria-label="Load">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 4v10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M8 10l4 4 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M4 20h16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
              <button id="deleteBtn" class="btn icon-btn" title="Delete" aria-label="Delete">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M4 7h16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M9 7V4h6v3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M6 7l1 13h10l1-13" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
              <button id="zoomInBtn" class="btn icon-btn" title="Zoom In" aria-label="Zoom In">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <circle cx="10" cy="10" r="6" fill="none" stroke="currentColor" stroke-width="2"/>
                  <path d="M10 7v6M7 10h6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M15 15l5 5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
              <button id="zoomOutBtn" class="btn icon-btn" title="Zoom Out" aria-label="Zoom Out">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <circle cx="10" cy="10" r="6" fill="none" stroke="currentColor" stroke-width="2"/>
                  <path d="M7 10h6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M15 15l5 5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="gizmo" class="gizmo">
        <div class="gizmo-lock" aria-hidden="true">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M7 11V8a5 5 0 0 1 10 0v3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <rect x="5" y="11" width="14" height="9" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
          </svg>
        </div>
        <div class="gizmo-ring"></div>
        <button class="gizmo-btn" data-axis="x">X</button>
        <button class="gizmo-btn" data-axis="y">Y</button>
        <button class="gizmo-btn" data-axis="z">Z</button>
      </div>

      <div id="toast" class="toast" role="status" aria-live="polite"></div>

      <canvas id="gl"></canvas>
    </div>
  </body>
</html>
