:root{color-scheme:light;--bg: #0e1015;--panel-left: rgba(18, 21, 30, .85);--panel-right: rgba(18, 21, 30, .85);--panel-bottom: rgba(18, 21, 30, .85);--accent: #ff7a2f;--text: #e9eef3;--muted: #a5b0bf;--shadow: 0 12px 40px rgba(0, 0, 0, .35);--ring: rgba(255, 122, 47, .45);--actions-height: 72px}*{box-sizing:border-box;font-family:SF Pro Display,system-ui,sans-serif}html,body,#app{margin:0;height:100%;width:100%;background:radial-gradient(circle at 20% 20%,#1c2133,var(--bg) 60%);color:var(--text);overflow:hidden}#gl{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:block}.gl-debug{position:fixed;left:12px;top:12px;z-index:9;padding:6px 10px;border-radius:10px;background:#0009;color:#e9eef3;font-size:12px;letter-spacing:.02em;pointer-events:none;white-space:pre-line;max-width:min(320px,90vw)}.gl-debug.is-hidden{display:none}.loading-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 20%,#1c2133e6,#0b0c11f2);color:#e9eef3;font-size:16px;letter-spacing:.03em;z-index:20;transition:opacity .25s ease}.loading-overlay.is-hidden{opacity:0;pointer-events:none}.safe-toggle{position:fixed;left:12px;top:140px;z-index:11;padding:6px 10px;border-radius:10px;background:#12151ebf;color:#e9eef3;font-size:12px;letter-spacing:.02em;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.safe-toggle label{display:flex;align-items:center;gap:8px;cursor:pointer}.safe-mode .panel,.safe-mode .bottom-bar,.safe-mode .sidebar,.safe-mode .gizmo{pointer-events:none;opacity:.45;filter:grayscale(.1)}.panel{position:absolute;background:var(--panel-left);border-radius:16px;box-shadow:var(--shadow);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);z-index:10;transition:transform .25s ease,opacity .2s ease;touch-action:pan-y;pointer-events:auto}.panel-body{display:flex;flex-direction:column;gap:12px;padding:16px;height:100%;min-height:0;touch-action:pan-y;pointer-events:auto}.panel-title{font-size:.75rem;text-transform:uppercase;letter-spacing:.25em;color:var(--muted);position:sticky;top:0;background:var(--panel-left);padding-bottom:8px;z-index:1}.panel-title.layer-title{display:flex;align-items:center;justify-content:space-between;gap:8px}.layer-delete{margin-left:auto}.sidebar{top:calc(16px + env(safe-area-inset-top,0px));bottom:calc(16px + env(safe-area-inset-bottom,0px));width:240px;max-height:calc(100dvh - 32px);overflow:visible;border-radius:18px;box-shadow:0 18px 50px #00000059}.panel-scroll{overflow-y:auto;overflow-x:hidden;min-height:0;max-height:100%;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;padding-bottom:calc(var(--actions-height) + env(safe-area-inset-bottom,0px) + 16px);gap:12px;touch-action:pan-y;flex:1}.tools-panel{flex:1;min-height:0;scrollbar-width:none;display:flex;flex-direction:column;gap:16px}.tools-panel::-webkit-scrollbar{width:0px;background:transparent}.sidebar.left{left:16px;background:var(--panel-left)}.sidebar.right{right:16px;background:var(--panel-right)}.sidebar .panel-body{padding:18px 18px 14px;gap:14px}.sidebar .group{background:#ffffff08;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px 14px}.sidebar .group.flat-group{background:transparent;border:0;box-shadow:none;padding:0}.sidebar .group.flat-group .color-swatch{background:var(--swatch-color, transparent);border:0;box-shadow:none}.sidebar .group.flat-group .color-swatch.canvas-preview{background:var(--bg)}.sidebar .group.flat-group.swatch-inline{flex-direction:row;align-items:center;justify-content:space-between;gap:12px}.sidebar .group.flat-group.swatch-inline span{margin:0}.sidebar .group.flat-group.swatch-inline .color-swatch{width:18px;height:18px;border-radius:4px;border:1px solid rgba(255,255,255,.2);box-shadow:inset 0 0 6px #00000059}.scale-group{gap:8px}.scale-group .btn{align-self:flex-start}.sidebar .group span{font-size:.72rem;letter-spacing:.16em;text-transform:uppercase}.sidebar .btn{border-radius:12px}.sidebar .toggle-row{justify-content:space-between}.sidebar .panel-title{font-size:.72rem;letter-spacing:.2em}.layer-header{display:flex;flex-direction:column;gap:10px;max-width:100%;overflow:visible;flex:0 0 auto}.layer-scroll{flex:1 1 auto;min-height:0;max-height:100%;min-height:120px;overflow-y:auto;overflow-x:visible;-webkit-overflow-scrolling:touch;overscroll-behavior:auto;padding-bottom:8px;touch-action:pan-y}.inline-toggle{flex-direction:row;align-items:center;gap:8px}.panel-actions{display:flex;flex-wrap:wrap;gap:8px;max-width:100%;overflow:hidden}.panel-actions .btn{max-width:100%}.danger{color:#ff5d5d}.bottom-bar{left:50%;bottom:16px;transform:translate(-50%);width:min(1200px,calc(100% - 32px));background:var(--panel-bottom);border-radius:18px;box-shadow:0 18px 50px #00000059}.bottom-bar .panel-body{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));align-items:start;gap:16px 18px;padding:18px 20px;max-height:320px;overflow-y:auto;touch-action:pan-y;-webkit-overflow-scrolling:touch}.bottom-bar .panel-body{scrollbar-width:none}.bottom-bar .panel-body::-webkit-scrollbar{width:0;height:0}body.mobile .panel-scroll,body.mobile .layer-scroll,body.mobile .bottom-bar .panel-body{overscroll-behavior:auto;pointer-events:auto}.bottom-bar .panel-body>.group,.bottom-bar .panel-body>.btn,.bottom-bar .panel-body>.panel-actions,.bottom-bar .panel-body>.actions-row,.bottom-bar .panel-body>.actions-section{width:100%}.bottom-bar .panel-body>.panel-actions,.bottom-bar .panel-body>.actions-row,.bottom-bar .panel-body>.actions-section{grid-column:1 / -1}.spacer{display:none}.actions-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px 14px;align-items:start}.actions-row .btn,.actions-row .group,.actions-row .btn.file-btn{width:100%}.actions-row.form-row{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.actions-row.icon-row{grid-template-columns:repeat(auto-fit,minmax(56px,1fr));gap:10px;align-items:center}.actions-row.icon-row .btn.icon-btn{justify-self:stretch}.bottom-bar .group{background:transparent;border:0;border-radius:0;padding:0}.bottom-bar .group.flat-group{background:transparent;border:0;box-shadow:none;padding:0}.bottom-bar .group span{font-size:.72rem;letter-spacing:.16em;text-transform:uppercase}.bottom-bar .btn{border-radius:12px}.bottom-bar .toggle-row{justify-content:space-between;gap:10px}.bottom-bar .panel-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}.bottom-bar .panel-actions .btn{width:100%}.bottom-bar .caption{margin-top:6px}.actions-section{display:grid;gap:10px;padding:4px 0 6px;border-bottom:1px solid rgba(255,255,255,.08)}.actions-section:last-child{border-bottom:0}.actions-section--icons{padding-top:10px}.section-title{font-size:.7rem;letter-spacing:.22em;text-transform:uppercase;color:#ffffff8c}@media(min-width:1024px){.bottom-bar .panel-body{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}.actions-row{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.actions-row.icon-row{grid-template-columns:repeat(auto-fit,minmax(60px,1fr))}}.bottom-bar input[type=range]{width:100%}.flap{position:absolute;top:18px;padding:8px 12px;background:#1b2131;border:1px solid rgba(255,255,255,.08);color:var(--text);border-radius:10px;cursor:pointer;font-size:.7rem;letter-spacing:.2em;text-transform:uppercase}.sidebar.left .flap{right:-46px;transform:rotate(-90deg)}.sidebar.right .flap{left:-46px;transform:rotate(90deg)}.bottom-bar .flap{top:-34px;left:50%;transform:translate(-50%)}.panel.collapsed.sidebar.left{transform:translate(-220px)}.panel.collapsed.sidebar.right{transform:translate(220px)}.panel.collapsed.bottom-bar{transform:translate(-50%,100%)}body.auto-hide .panel.sidebar.left{transform:translate(-220px)}body.auto-hide .panel.sidebar.right{transform:translate(220px)}body.auto-hide .panel.bottom-bar,body.webview.mobile .panel.bottom-bar{transform:translate(-50%,100%)}.group{display:flex;flex-direction:column;gap:4px;font-size:.7rem;text-transform:uppercase;letter-spacing:.15em;color:var(--muted)}.toggle-row{display:flex;align-items:center;gap:8px;font-size:.75rem;letter-spacing:.08em;text-transform:none}.toggle-row label{display:flex;align-items:center;gap:6px;color:var(--text)}select,input[type=range],input[type=file]{background:#1b2131;border:1px solid rgba(255,255,255,.08);color:var(--text);border-radius:8px;padding:6px 8px}.pill-input{border-radius:999px;padding:8px 14px;background:#141a27f2;border:1px solid rgba(255,255,255,.12)}#saveName{color:#fff}#saveName::placeholder{color:#ffffffb3}.color-swatch{width:40px;height:40px;border-radius:12px;background:var(--swatch-color, #12151e);border:1.5px solid rgba(255,255,255,.12);box-shadow:inset 0 0 8px #0006;position:relative;transition:transform .15s ease,box-shadow .15s ease}.color-swatch:hover{transform:scale(1.05)}.color-swatch:focus-within{box-shadow:inset 0 0 8px #0006,0 0 0 2px #4cff6b}.color-swatch input[type=color]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;margin:0;width:100%;height:100%;background:transparent;opacity:0;cursor:pointer}.color-swatch input[type=color]::-webkit-color-swatch-wrapper{padding:0}.color-swatch input[type=color]::-webkit-color-swatch{border:none}input[type=range]{width:140px}.btn{background:#1b2131;border:1px solid rgba(255,255,255,.08);color:var(--text);border-radius:10px;padding:8px 12px;cursor:pointer;transition:transform .15s ease,border .15s ease}.icon-btn{width:36px;height:36px;display:grid;place-items:center;padding:0}.icon{width:18px;height:18px;display:block}.btn.small{padding:6px 10px;font-size:.75rem}.btn:hover{transform:translateY(-1px);border-color:#ffffff59}.layer-list{display:flex;flex-direction:column;gap:8px}.layer-item{display:flex;align-items:center;gap:8px;background:#191e2cb3;border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:8px 10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);min-width:0;overflow:visible;width:100%;box-sizing:border-box}.layer-item button{padding:4px 6px;font-size:.7rem}.layer-name{flex:1 1 auto;min-width:0;font-size:.8rem;color:var(--text);cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layer-item.active{outline:none;box-shadow:0 0 0 2px #35ff7a inset}.panel-actions{display:flex;gap:8px}.transform-toolbar{display:grid;gap:8px;margin:10px 0 6px;flex:0 0 auto}.transform-toggle{display:flex;align-items:center;gap:10px;justify-content:flex-start}.transform-toggle.active{border-color:#ff7a2fb3;box-shadow:0 0 0 1px #ff7a2f4d}.transform-toolbar .hint{font-size:.7rem;color:#fff9;min-height:1em}.gizmo{position:absolute;top:96px;right:24px;width:64px;height:64px;border-radius:50%;background:#0c0f18bf;border:1px solid rgba(255,255,255,.08);display:grid;place-items:center;z-index:12;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);cursor:grab;touch-action:none}.gizmo.locked{border-color:#ff7a2fb3;box-shadow:0 0 0 1px #ff7a2f4d;cursor:default}.gizmo-lock{position:absolute;top:0;right:0;bottom:0;left:0;display:grid;place-items:center;color:#ffffffd9;opacity:0;transform:scale(.9);transition:opacity .15s ease,transform .15s ease;pointer-events:none}.gizmo-lock svg{width:22px;height:22px}.gizmo.locked .gizmo-lock{opacity:1;transform:scale(1)}.gizmo-ring{position:absolute;top:6px;right:6px;bottom:6px;left:6px;border:1px dashed rgba(255,255,255,.25);border-radius:50%}.gizmo-btn{position:absolute;background:#1b2131;border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:8px;font-size:.65rem;width:20px;height:20px;display:grid;place-items:center;cursor:pointer}.gizmo-btn[data-axis=x]{right:-8px;top:50%;transform:translateY(-50%)}.gizmo-btn[data-axis=y]{left:50%;top:-8px;transform:translate(-50%)}.gizmo-btn[data-axis=z]{left:-8px;top:50%;transform:translateY(-50%)}.toast{position:fixed;right:24px;bottom:calc(var(--actions-height) + 28px);background:#141a27f2;border:1px solid rgba(255,255,255,.12);color:var(--text);padding:10px 14px;border-radius:12px;font-size:.8rem;letter-spacing:.02em;opacity:0;transform:translateY(6px);pointer-events:none;transition:opacity .2s ease,transform .2s ease;z-index:20}.toast.show{opacity:1;transform:translateY(0)}.file-btn{position:relative;overflow:hidden}.file-btn input[type=file]{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;cursor:pointer}.stamp-upload{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:12px;background:linear-gradient(135deg,#232c42e6,#131928f2);border:1px solid rgba(255,255,255,.12);box-shadow:inset 0 0 0 1px #ffffff0a;font-size:.8rem;letter-spacing:.02em}.stamp-upload:hover{transform:translateY(-1px);border-color:#ffffff4d}.stamp-upload .icon{width:16px;height:16px}.remesh-settings{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px 14px;width:100%}.slider-value{min-width:36px;text-align:right;color:var(--muted);font-variant-numeric:tabular-nums}.caption{font-size:.7rem;color:#ffffff8c;margin-top:4px}@media(max-width:900px){.bottom-bar .panel-body,.actions-row{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.remesh-settings{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}}@media(max-width:900px){input[type=range]{width:110px}.sidebar{width:200px}.sidebar.left{left:8px}.sidebar.right{right:8px}.bottom-bar{bottom:8px}.gizmo{top:88px;right:20px}}
